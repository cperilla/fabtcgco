---
import Program from '../components/Program.astro';
import Layout from '../layouts/Layout.astro';

import { loadEventsData } from '../utils/dataLoader';
import { getMonths } from '../utils/calendarUtils';

const jsonPath = './src/data/Eventos_de_la_Comunidad_Flesh_and_Blood_Q1_2025.json';
const eventsData = await loadEventsData(jsonPath);
const year = "2025";
const months = getMonths(eventsData);
---

<Layout>
    {months.map((month) => (
        <Program month={month} year={year} eventsData={eventsData} />
    ))}
</Layout>
